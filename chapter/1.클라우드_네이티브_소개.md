# 클라우드 네이티브 소개

## 클라우드 네이티브란 무엇인가?
클라우드 네이티브 애플리케이션은 클라우드에서 실행되면서 변화에 탄력적으로 대응하고, 고도로 분산되어 있는 시스템이다.
 시스템은 여러 개의 서비스로 구성되며 이 서비스들은 네트워크를 통해 서로 통신한다. 또한 이 시스템은 끊이없이 변하는 동적 환경에 배포한다.

**그렇다면 어떻게 하는 것이 클라우드 네이티브일까?**

클라우드 네이티브 애플리케이션은 클라우드를 위해 특별히 설계되어야 하고, 클라우드 환경과 클라우드 컴퓨팅 모델의 장점을 활용할 수 있는 특성이 있어야 한다.

애플리케이션이 클라우드를 위해 특별히 설계된다는 것은 무엇을 의미할까? </br>
`클라우드의 세가지 P`를 준수하는 것이다.

1. 플랫폼(Platform) : 클라우드 네이티브 애플리케이션은 클라우드 같은 동적 분산 환경을 기반으로 하는 플랫폼에서 실행된다.
2. 속성(Properties) : 클라우드 네이티브 애플리케이션은 확장 가능하고 느슨하게 결합되며 복원력이 뛰어나고 관찰 가능하도록 설계된다.
3. 실행(Practice) : 클라우드 네이티브 애플리케이션은 빈번하고 예측 가능한 방식으로 시스템을 변경한다. (자동화, 지속적 전달, 데브옵스 등)


### 클라우드 배포 모델
1. 사설 클라우드 : 한 단체나 조직에서만 사용하도록 제공하는 클라우드 인프라이다. 예를 들어, 은행 같은 곳은 자체 클라우드 인프라를 구축할 가능성이 높다.
2. 공공 클라우드 : 일반 사용자들에게 공공으로 제공되는 클라우드 인프라이다. 예를 들어 AWS, Azure, GCP 등이 있다.
3. 하이브리드 클라우드 : 앞의 두 가지 유형에 해당하는 클라우드 인프라 구성 몇개를 하나로 묶어 마치 하나의 단일 환경인 것처럼 서비스를 제공한다.


### 클라우드 컴퓨팅 모델
1. IaaS(Infrastructure as a Service) : 가상 서버, 스토리지, 네트워크 등의 인프라를 제공한다. 
2. CaaS(Container as a Service) : 컨테이너 관리 플랫폼을 제공한다. 
3. PaaS(Platform as a Service) : 애플리케이션을 개발하고 실행하기 위한 플랫폼을 제공한다. 
4. FaaS(Function as a Service) : 함수를 실행하기 위한 플랫폼(이를 실행할 인프라 포함)을 제공한다.
5. SaaS(Software as a Service) : 소프트웨어(이를 실행할 전체 인프라 포함)를 제공한다.

### 클라우드 네이티브 애플리케이션의 특성
CNCF(Cloud Native Computing Foundation)에서는 클라우드 네이티브 애플리케이션이 가져야 할 다섯 가지 주요 속성을 정의한다.
클라우드는 '어디'(where)에 관한 것이고, 클라우드 네이티브는 '어떻게'(how)에 관한 것이다. 아래 내용은 가볍게 읽어보자.

1. 확장성 <br>
   이것이 의미하는 바는 추가 리소스를 제공해 증가하는 워크로드를 지원한다는 것이다. 이러한 추가 리소스의 특성에 따라 수직적 확장과 수평적 확장으로 나눌 수 있다.
   1. 수직적 확장 : 서버 자체의 스펙을 향상시키는 방법으로 CPU, 메모리, 디스크 등의 리소스를 추가하는 방법이다.
   2. 수평적 확장 : 서버의 수를 늘리는 방법으로 여러 대의 서버를 늘려서 확장하기에, 애플리케이션이 확장 가능하도록 만들어야 한다.
2. 느슨한 결합 <br> 
   각 컴포넌트들이 가능한 한 다른 컴포넌트에 대한 지식을 거의 가지고 있지 않은 시스템이 본질적으로 가지고 있는 속성이 **느슨한 결합**이다.
3. 복원력 <br>
   정상 작동에 대한 오류 및 문제에 직면하여 허용 가능한 수준의 서비스를 제공하고 유지할 수 있도록 하는 하드웨어-소프트웨어 네트워크의 기능이다. (결함이나 환경 변화가 있는 경우에도 서비스를 제공한다는 뜻)
   - 결함 : 결함은 소프트웨어 또는 인프라에서 잘못된 내부 상태를 생성하는 고장이다. 예를 들면 널이 아닌 값을 반환해야 하는 메서드가 널 값을 반환하는 경우이다.
   - 오류 : 오류는 시스템에 대해 예상하는 작동과 시스템이 실제 보이는 작동 간의 불일치다. 예를 들자면 위에 언급한 결함으로 인해 NullPointException이 발생하는 경우이다.
   - 실패 : 결함이 촉발되어 오류가 발생하면 실패로 이어져 시스템이 응답하지 않거나 요구사항에 따라 작동하지 못하게 될 수 있다.
     예를 들어 NullPointException이 발생하여 생긴 오류는 실패를 유발하고 시스템은 모든 요청에 500으로 응답하는 경우이다.
4. 관측 가능성 <br>
   시스템의 외부 출력에서 내부 상태를 얼마나 잘 추론할 수 있는지를 측정하는 것. 관측 가능성의 네 가지 요소가 있다.
   - 모니터링 : 애플리케이션의 전반적인 상태에 대한 정보를 얻고 실패를 식별하기 위해 애플리케이션의 특정 양상을 측정하는 것이다.
   - 경고/시각화 : 수집된 모니터링 데이터를 사용하여 사용자에게 경고를 보내거나 데이터를 시각화하는 것이다.
   - 인프라를 추적하는 분산 시스템 : 서브시스템 내의 작동을 추적할 뿐 아니라, 서로 다른 서브시스템 사이의 데이터를 추적하는 것도 필수이다.
   - 로그 집계/분석 : 애플리케이션의 주요 이벤트를 추적하는 것은 소프트웨어의 작동을 추론하고 문제 발생 시 디버깅을 하기 위해 중요한 작업이다.
5. 관리 용이성 <br>
   외부 입력이 시스템의 상태 또는 출력을 얼마나 쉽고 효율적으로 변경할 수 있는지에 대한 것. 즉, 코드를 바꾸지 않고도 애플리케이션의 작동을 수정할 수 있는 능력이다.
   **유지 보수성**과 혼동하면 안된다.

### 클라우드 네이티브를 지원하는 문화 및 관행
1. 자동화 <br>
    자동화는 클라우드 네이티브 애플리케이션의 핵심이다. 자동화는 빠르고 안정적인 서비스를 제공하고, 빠르게 시스템을 변경할 수 있도록 해준다.
2. 지속적 전달(CD) <br>
   지속적 전달이란 '프로덕션 환경에 언제든지 배포할 수 있는 방식으로 소프트웨어를 구축하는 소프트웨어 개발의 한 분야'이다.
   - 지속적 통합(CI) : 지속적 전달의 토대가 되는 관행이다. 개발자는 변경 사항을 기본 브랜치에 지속적으로, 적어도 하루에 한 번 커밋한다.
   - 지속적 전달(CD) : 지속적으로 변경 사항을 테스트하고, 테스트를 통과한 변경 사항을 프로덕션과 유사한 환경에 배포해서, 언제든지 프로덕션을 배포(새로운 버전으로 출시) 가능한 상태를 만든다. <br>
   지속적 전달과 지속적 배포는 다른 개념이며, 애플리케이션을 테스트하고 배포하기 위한 자동화된 파이프라인을 구축한다고 해서 그것이 반드시 지속적 전달을 의미하지 않는다.
3. 데브옵스
   데브옵스는 개발(Dev)과 운영(Ops)의 합성어로, `지위나 배경에 관계없이 사람들이 시스템을 구상, 개발, 배포 및 운영하기 위해 함께 협력하는 '문화'이다.`
